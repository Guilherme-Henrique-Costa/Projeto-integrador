<div class="app-container">
  <!-- Sidebar -->
  <nav class="custom-sidebar" [class.collapsed]="!sidebarOpen">
    <div class="cabeca">
      <span class="logo-text">{{ (instituicaoNome$ | async) ?? 'Instituição' }}</span>
      <button type="button" class="btn-toggle" (click)="toggleSidebar()" [attr.aria-label]="'Alternar menu'">
        <i class="pi pi-bars"></i>
      </button>
    </div>
    <div class="corpo">
      <ul class="menu-list">
        <li *ngFor="let item of sidebarItems; trackBy: trackByIndex">
          <a
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="item.label === 'Sair' ? sair() : null"
          >
            <i [class]="item.icon"></i> <span class="menu-label">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Conteúdo Principal -->
  <main class="main-content" [ngClass]="{ 'expanded': !sidebarOpen }">
    <!-- Barra de Busca -->
    <div class="search-bar">
      <input
        type="text"
        placeholder="Pesquisar voluntário..."
        [(ngModel)]="searchQuery"
        aria-label="Pesquisar voluntário"
      />
      <button class="search-button" type="button" aria-label="Pesquisar">
        <i class="pi pi-search"></i>
      </button>
    </div>

    <!-- Lista e Detalhes -->
    <div class="gestao-container">
      <!-- Lista -->
      <aside class="gestao-sidebar">
        <h2 class="titulo">Voluntários</h2>
        <ul class="lista-voluntarios">
          <li
            *ngFor="let voluntario of voluntariosFiltrados; trackBy: trackByIndex"
            class="item-voluntario"
            [ngClass]="{ 'selected': voluntario === voluntarioSelecionado }"
            (click)="selecionarVoluntario(voluntario)"
            role="button"
            [attr.aria-label]="'Selecionar ' + voluntario.nome"
            tabindex="0"
          >
            <i class="pi pi-user icone"></i>
            <span class="nome">{{ voluntario.nome }}</span>
          </li>
        </ul>
      </aside>

      <!-- Detalhes -->
      <section class="gestao-detalhes" *ngIf="voluntarioSelecionado as v">
        <h3><i class="pi pi-user"></i> {{ v.nome }}</h3>

        <p><strong>Nome:</strong> {{ v.nome }}</p>
        <p><strong>Email:</strong> {{ v.email }}</p>
        <p><strong>Telefone:</strong> {{ v.telefone }}</p>
        <p><strong>Área de Interesse:</strong> {{ v.areaInteresse }}</p>
        <p><strong>Disponibilidade:</strong> {{ v.disponibilidade }}</p>

        <h4>Competências:</h4>
        <ul class="competencias">
          <li><strong>Comunicação:</strong> Comunica-se bem com diferentes públicos.</li>
          <li><strong>Trabalho em Equipe:</strong> Colabora com times multidisciplinares.</li>
          <li><strong>Liderança:</strong> Coordena e motiva equipes.</li>
          <li><strong>Gestão de Tempo:</strong> Organiza e prioriza tarefas com autonomia.</li>
        </ul>

        <label for="servico">Serviço Voluntário:</label>
        <textarea
          id="servico"
          placeholder="Descreva a atividade realizada..."
          rows="4"
          [(ngModel)]="descricaoServico"
        ></textarea>

        <button class="btn-enviar" (click)="registrarServico()">
          <i class="pi pi-send"></i> Registrar Serviço
        </button>
      </section>
    </div>
  </main>
</div>
