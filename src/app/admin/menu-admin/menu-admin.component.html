<div class="app-container">
  <!-- Sidebar -->
  <nav class="custom-sidebar" [class.collapsed]="!sidebarOpen" aria-label="Navegação admin">
    <div class="cabeca">
      <span class="logo-text">{{ adminNome }}</span>
      <button type="button" class="btn-toggle" (click)="toggleSidebar()" aria-label="Alternar menu">
        <i class="pi pi-bars"></i>
      </button>
    </div>
    <div class="corpo">
      <ul class="menu-list">
        <li *ngFor="let item of sidebarItems; trackBy: trackByIndex">
          <a
            [routerLink]="item.route"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="item.label === 'Sair' ? sair() : null"
          >
            <i [class]="item.icon"></i>
            <span class="menu-label">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Main -->
  <main class="main-content" [ngClass]="{ 'expanded': !sidebarOpen }">
    <div class="topbar-inline">
      <div class="brand">
        <span class="logo">CEUB</span>
        <span class="title">Admin • Monitoramento</span>
      </div>
    </div>

    <!-- Resumos rápidos -->
    <section class="cards-resumo">
      <div class="resumo-card">
        <div class="kpi-titulo">Voluntários ativos</div>
        <div class="kpi-valor">{{ resumo.voluntariosAtivos }}</div>
      </div>
      <div class="resumo-card">
        <div class="kpi-titulo">Instituições ativas</div>
        <div class="kpi-valor">{{ resumo.instituicoesAtivas }}</div>
      </div>
      <div class="resumo-card">
        <div class="kpi-titulo">Novas candidaturas (mês)</div>
        <div class="kpi-valor">{{ resumo.novasCandidaturasMes }}</div>
      </div>
      <div class="resumo-card">
        <div class="kpi-titulo">Vagas abertas</div>
        <div class="kpi-valor">{{ resumo.vagasAbertas }}</div>
      </div>
    </section>

    <!-- Gráficos -->
    <section class="graficos">
      <div class="grafico-card">
        <h3>Distribuição</h3>
        <p-chart type="pie" [data]="pieData" [options]="pieOptions"></p-chart>
      </div>

      <div class="grafico-card">
        <h3>Evolução (últimos meses)</h3>
        <p-chart type="line" [data]="lineData" [options]="lineOptions"></p-chart>
      </div>
    </section>
  </main>
</div>
